[< К содержанию](readme.md)

# Методологии ветвления

## Central Workflow
Репозиторий содержит только одну главную ветку *master*. Все изменения комитятся в нее. Репозиторий может быть как локальным, так и удаленным.

![Central Workflow](https://lms.skillfactory.ru/assets/courseware/v1/3dc84a125c0139cd99b1e83371fb9f25/asset-v1:SkillFactory+PHPDEV+2021+type@asset+block/PHP_5.11.1.png "Central Workflow")

*Central Workflow* подходит для одиночного проекта. В своем проекте вы сможете использовать эту модель, для того чтобы видеть какие изменения произошли в течение процесса разработки. После проделанной работы вы фиксируете изменения так, что позже сможете вернуться к любой из предыдущих версий.

## Developer Branch Workflow
У каждого разработчика есть своя личная ветка или несколько, в которые он вносит изменения. Все изменения, опубликованные в удаленном репозитории будут в этой ветке. Вся работа может быть выполнена на разных ветках, но потом должна будет слита (merged) в одну главную ветвь.
![Developer Branch Workflow](https://lms.skillfactory.ru/assets/courseware/v1/e593e355f814a2123b2f5f67da4b2571/asset-v1:SkillFactory+PHPDEV+2021+type@asset+block/PHP_5.11.2.png "Developer Branch Workflow")
Больше подойдет для небольшого проекта с ограниченным количеством требований и небольшим количеством разработчиков. Наиболее вероятный сценарий для группового учебного проекта, когда каждый участник делает свою часть, а затем публикует её в удаленном репозитории для того, чтобы остальные её увидели до того, как она будет слита.

## Feature Branch Workflow
В этом случае репозиторий имеет второстепенную основную ветку (dev), в которой находится стабильный код для отправки пользователям. Фичи (функциональные ветки) начинают свой код от этой ветки и сливаются с ней.
![Feature Branch Workflow](https://lms.skillfactory.ru/assets/courseware/v1/e1732f1ccc48717cdd68e060b334c5f1/asset-v1:SkillFactory+PHPDEV+2021+type@asset+block/PHP_5.11.3.png "Feature Branch Workflow")

Этот вариант подходит командам, которые используют какой-то метод управления проектами.

## Issue Branch Workflow
Очень похоже на *Feature Branch Workflow*, однако есть существенное отличие — ветки создаются по задачам, поставленным перед разработчиками, а не по фичам, а каждая фича может состоять из нескольких отдельных задач.

![Issue Branch Workflow](https://lms.skillfactory.ru/assets/courseware/v1/d83c4745709a40ce4092dfc686533225/asset-v1:SkillFactory+PHPDEV+2021+type@asset+block/PHP_5.11.4.png "Issue Branch Workflow")
Как и предыдущая методология, эта подходит командам, работающим по методологиям управления проектом.

## Forking Workflow
В рамках *Forking Workflow* стратегии разработка ведется так, что есть два репозитория:

* Оригинальный репозиторий, в который будут сливаться все изменения.
* Форк репозитория (это копия оригинального репозитория во владении другого разработчика, который хочет внести изменения в оригинальный).
![Forking Workflow](https://lms.skillfactory.ru/assets/courseware/v1/1d73afa2ed273693dae83e15b1f9947d/asset-v1:SkillFactory+PHPDEV+2021+type@asset+block/PHP_5.11.5.png "Forking Workflow")

## Github flow
Команда *Github* предпочитает достаточно простую стратегию ветвления, которую можно описать несколькими правилами:

1. Код в master ветке должен быть работоспособным и готовым к развертыванию в любое время;
2. Все изменения производятся в отдельных ветках, созданных от *master*;
3. Когда изменение завершено, его проверяет руководитель команды и ещё один специалист;
4. После удачной проверки изменения его вливают в проект и немедленно разворачивают на сервере.
![Github flow](https://lms.skillfactory.ru/assets/courseware/v1/39c949797262e9778ea81a2ab3ac18c0/asset-v1:SkillFactory+PHPDEV+2021+type@asset+block/PHP_5.11.6.png "Github flow")

## Gitflow
В целом, *Gitflow* состоит из двух постоянных веток и нескольких типов временных веток.

Существует две постоянных ветки:

* *production* (обычно — *master*) — стабильная ветка, доступная пользователям. Напрямую в *production* изменения не производятся;
* *develop* — ветка для разработки. Потенциально она может быть нестабильна. При достаточном количестве изменений из develop создаётся *release*-ветка. Feature-ветки берут свое начало от *develop*.

Остальные ветки делятся на три группы:

* *feature* — ветки, на которых разрабатывается новый функционал. При завершении работы над функционалом *feature*-ветки сливаются в develop;
* *release* — ветки, на которых идёт подготовка стабильного кода для публикации пользователям. По завершении работ по «стабилизации» кода, ветка сливается в production и *develop*;
* *hotfix* — ветки, служащие для быстрого решения критических проблем production. По завершении работ по решению ошибки, ветка сливается в production и develop.
![Gitflow](https://lms.skillfactory.ru/assets/courseware/v1/13fae9446a598b7b98483c5d5055d073/asset-v1:SkillFactory+PHPDEV+2021+type@asset+block/PHP_5.11.7.png "Gitflow")
Данная модель подходит для организации рабочего процесса на основе релизов.

# Суровая реальность
Все модели достаточно просты и понятны, какие-то могут понравиться вам больше или меньше, однако требуется учесть несколько моментов:

* **У каждой модели есть рекомендуемая команда.** Например, вряд ли стоит прибегать к *gitflow*, если вы единственный разработчик небольшого непопулярного проекта, и очень опасно использовать *central workflow* при поддержке достаточно большой командой популярного работающего коммерческого проекта;
* Проекты постоянно изменяются. Существуют проекты, которые начал один человек, а сейчас это огромные коммерческие проекты, поддержкой которых занимаются десятки разработчиков. Есть проекты, которые изначально разрабатывались по гибкой методологии *scrum*, а теперь разрабатываются по модели на основе релизов. Или, ещё пример, проект начат десятком человек, а сейчас его поддерживает пара разработчиков. Поэтому **модель ветвления может изменяться вместе с командой** — проект может быть начат по одной методологии, а впоследствии подход к ветвлению меняется;
* **Сколько команд, столько и методологий.** Данные методологии являются своего рода «эталонными». В различных командах могут быть различные их сочетания и собственные реализации. Например, достаточно известны модификации *Gitflow*, при которой ветка *release* является постоянной, или вместо *feature*-веток используются ветки задач.

[< К содержанию](readme.md)